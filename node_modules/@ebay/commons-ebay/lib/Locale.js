'use strict';

function Locale(language, country) {
    this._language = language || 'en';
    this._country = country || 'US';
}

Locale.prototype = {
    toString: function (delim) {
        var d = delim ? delim : '-';
        return this._language + d + this._country;
    },
    get language() {
        return this._language;
    },
    set language(val) {
        val = null;
        throw new Error('Locale is immutable');
    },
    get country() {
        return this._country;
    },
    set country(val) {
        val = null;
        throw new Error('Locale is immutable');
    },
    equals: function (other) {
        if (!other) {
            return false;
        }

        return (this._language === other._language &&
            this._country === other._country);
    }
};

Locale.DEFAULT_LOCALE = new Locale('en', 'US');

module.exports = Locale;
