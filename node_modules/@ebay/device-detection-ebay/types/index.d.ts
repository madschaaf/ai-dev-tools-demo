import { NextFunction, Request, Response } from 'express';

export interface DeviceInfo {
  browser: string;
  browserVersion: string;
  cpu: string;
  memory: string;
  deviceOS: string;
  osName: string;
  osVersion: string;
  displayHeight: number;
  displayWidth: number;
  screenHeight: number;
  screenWidth: number;
  isCookie: boolean;
  isDesktop: boolean;
  isHTTPS: boolean;
  isJS: boolean;
  isLocalStorage: boolean;
  isSessionStorage: boolean;
  isSvg: boolean;
  isMobile: boolean;
  isTablet: boolean;
  isTouchScreen: boolean;
  isFSOM: boolean;
  isWebSockets: boolean;
  isSmall: boolean;
  isLarge: boolean;
  isNative: boolean;
  requestIsWebView: boolean;
}

export function middleware(): (req: Request, res: Response, next: NextFunction) => void;

export function getDeviceInfo(useragent: string, callback: (error: Error | null, response: DeviceInfo) => void): void;

declare module 'express-serve-static-core' {
  interface Request {
    deviceInfo: DeviceInfo;
  }
}
