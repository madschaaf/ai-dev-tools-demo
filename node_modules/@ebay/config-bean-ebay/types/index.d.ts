export type ValueType = string | number | boolean | null | undefined;
export type Type = boolean | 'true' | 'false';

export type AttributeDef = {
    name?: string;
    desc?: string;
    value: ValueType;
    type: 'string' | 'boolean' | 'number' | 'timestamp';
    writable?: Type;
    readable?: Type;
};

export type Attribute = AttributeDef & {
    name: string;
    defaultValue: ValueType;
    writable: Type;
    readable: Type;
};

export type ConfigBeanDef = {
    configbean: true,
    id: string;
    alias: string;
    group: string;
    desc: string;
    attributes: {[key: string]: AttributeDef} | AttributeDef[];
};

export type ConfigBeanType = {
    configbean: true,
    id: string;
    alias: string;
    group: string;
    desc: string;
    attributes: Attribute[];
};

export class ConfigBeanAdaptor {
    constructor(config: ConfigBeanType);
    fireChangeEvent(deletedProperties?: string[]): void;
    get(name: string): ValueType;
    lastUpdated(name: string): number;
    getAttributes(modified?: boolean): Attribute[];
    getConfig(): {[key: string]: ValueType};
    set(name: string, value: ValueType): ValueType;
    setPersist(name: string, value: ValueType): ValueType;
    reset(): ConfigBeanType;
    clear(): ConfigBeanType;
}

export function getBeanById(id: string): ConfigBeanAdaptor;
export function getConfigBeanList(): string[];
export function getConfigBeans(modified: boolean): ConfigBeanAdaptor[];
export function syncDiskBeans(): void;
export function define(def: ConfigBeanDef): ConfigBeanAdaptor;
export function defineConfig(config: {[key: string]: ValueType}, id: string): ConfigBeanAdaptor;
