'use strict';

var Provider = require('@ebay/service-client-ebay');
var Objutil = require('objutil');

module.exports.getTracker = function(ctx) {
    return {
        track: function track(options, callback) {
            if (typeof options === 'object') {
                options = Objutil.merge(options, {
                    body: JSON.stringify(options.body)
                });
            }

            Provider.context(ctx).getClient('tracking20service')
                .request(options)
                .path('track')
                .end(callback);
        }
    };
};