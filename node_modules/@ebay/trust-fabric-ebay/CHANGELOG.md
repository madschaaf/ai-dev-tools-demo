# ChangeLog
## v1.10.3
* Downgraded `jose` dependency from ^6.1.2 to ^5 for compatibility
https://jirap.corp.ebay.com/browse/NODE-6031

## v1.10.2
* Added `getResourceId()` function to read resource ID from /mnt/annotations file
* Enhanced TokenValidator to populate `svc` claim from resource ID for s2s access policy validation
* Added logic to remove surrounding double quotes from resource ID values
* Added comprehensive test coverage for new functionality (6 new tests)
* Added `properties` dependency for parsing annotations file
https://jirap.corp.ebay.com/browse/NODE-6031

## v1.10.0
* Added Support for TF v4 for DevZone
* Token Generation
* Token Validation
https://jirap.corp.ebay.com/browse/NODE-5933

## v1.9.1
nodejs tf validator doesn't honor ip from x-ebay-tf-real-ip,
https://jirap.corp.ebay.com/browse/NODE-5610

## v1.9.0
nodejs tf client doesn't understand new tf policy in IAM
https://jirap.corp.ebay.com/browse/NODE-5526

## v1.9.0
* NODE-5520 - Changed status code to 401 for failed TF token
https://jirap.corp.ebay.com/browse/NODE-5520

## v1.9.0
* NODE-5502: Nodejs-Support X-Ebay-TF-Real-IP in Trustfabric validator
https://jirap.corp.ebay.com/browse/NODE-5502

## v1.8.2
* NODE-5348: Skip Audience check for DEV Token
https://jirap.corp.ebay.com/browse/NODE-5348

## v1.8.1
* TF Audit log data change per eSAMS team, https://jirap.corp.ebay.com/browse/NODE-5261

## v1.8.0
NODE-5129: Enhance NodeJS TF client to support Scope Based TF tokens with customizations
https://jirap.corp.ebay.com/browse/NODE-5129

NODE-5193: Updated Audit logs
https://jirap.corp.ebay.com/browse/NODE-5193

## v1.7.4
* Fix: Added forceRefresh for TF allowlist refresh
https://jirap.corp.ebay.com/browse/NODE-5083

## v1.7.3
* Fix: Changed from stacktrace to error message to audit log
https://jirap.corp.ebay.com/browse/NODE-5074

## v1.7.2
*Fix: TF - Change IP Lookup Logic
https://jirap.corp.ebay.com/browse/NODE-5015

## v1.7.1
* Fix: Added API to skip audience check for ValidateInternals TF check
https://jirap.corp.ebay.com/browse/NODE-3822

## v1.7.0
* Fix: Increased Max Retries for TF Service when failure happens
* Increased timeout for CMPaaS service
https://jirap.corp.ebay.com/browse/NODE-4422

## v1.6.0
* Added: Enable LocalDebug staging mode in trust fabric, https://jirap.corp.ebay.com/browse/NODE-3923

## v1.5.2
* Fixed: Removed forceRefresh when token is expired.
https://jirap.corp.ebay.com/browse/NODE-3537

## v1.5.1
* Fixed: Invalid subject used for dev token generation, https://github.corp.ebay.com/nodejs/trust-fabric-ebay/pull/20

## v1.5.0
* Fix: allow only tf tokens with bearer prefix, https://jirap.corp.ebay.com/browse/NODE-3496
* Pass any error to default error handler for better formatting

## v1.4.3
* Fix: should not be hard bound to ebay context, https://jirap.corp.ebay.com/browse/NODE-3456

## v1.4.2
* Fix: NPE when deserializing, https://jirap.corp.ebay.com/browse/NODE-3368

## v1.4.1
* Fixed: Error when ctx is empty
* Fix: Active handles spike and potentially a memory leak, https://jirap.corp.ebay.com/browse/NODE-3006

## v1.4.0
* NODE-2797: Added TF token validation from header for services ONLY

## v1.3.1
* Fixed: Changes for Grant File in Tess env
https://jirap.corp.ebay.com/browse/NODE-2926

## v1.3.0
* Added: Changes for TF header propagation to services.
https://jirap.corp.ebay.com/browse/NODE-2771

## v1.2.1
* Fixed: Added logic for some corner cases when service fails.
https://jirap.corp.ebay.com/browse/NODE-2836

## v1.2.0
* Fixed: Fix Exception when Token Encryption/Decryption Fails
https://jirap.corp.ebay.com/browse/NODE-2650
https://jirap.corp.ebay.com/browse/NODE-2715

## v1.1.0
* Fixed token expiry issue
https://jirap.corp.ebay.com/browse/NODE-2467

## v1.0.3
* Added ability to reschedule refresh token, if the earlier refresh attempt fails. https://jirap.corp.ebay.com/browse/NODE-2276

## v1.0.2
* Removed legacy markdown-threshold that is no longer used in service calls.

## v1.0.1
* Skipping getTokenUsingGrant for test environment

## v1.0.0
* Initial Version
