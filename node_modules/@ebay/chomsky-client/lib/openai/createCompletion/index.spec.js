'use strict';
const { assert } = require('chai');
const { openai, MODELS } = require('../../../');
const AppContext = require('@ebay/app-context-ebay');
AppContext.appName = 'usvbff';

describe('openai', () => {

    describe('openai.createCompletion', () => {
        it('should be a function', () => {
            assert.equal(typeof openai.createCompletion, 'function');
        });

        it('should create a completion request', (done) => {
            openai.createCompletion({
                model: MODELS.EBAY.TEXT.EBAY_INTERNAL_TEXT_COMPLETIONS_PHI_3_5_MINI_INSTRUCT,
                max_tokens: 1,
                prompt: '1+1='
            }).then(res => {
                assert.hasAllKeys(res, [
                    'id',
                    'object',
                    'created',
                    'model',
                    'choices',
                    'usage'
                ])
                done();
            }).catch(done);
        }, 10000);
    });

});