'use strict';
const { assert } = require('chai');
const { openai, MODELS } = require('../../../');
const AppContext = require('@ebay/app-context-ebay');
AppContext.appName = 'usvbff';

describe('openai', () => {


    describe('openai.createEmbedding', () => {
        it('should be a function', () => {
            assert.equal(typeof openai.createEmbedding, 'function');
        });

        it('should create a embedding', (done) => {
            openai.createEmbedding({
                model: MODELS.OPENAI.EMBEDDING.AZURE_EMBEDDINGS_ADA_TEXT_SIMILARITY_2,
                input: ['Hello']
            }).then(res => {
                assert.hasAllKeys(res, [
                    'object',
                    'model',
                    'usage',
                    'data'
                ]);
                done();
            }).catch(done);
        }, 10000);

        // it('should create a embedding with eBay Internal Vector Prime', (done) => {
        //     openai.createEmbedding({
        //         model: MODELS.EBAY.EMBEDDING.EBAY_INTERNAL_VECTOR_PRIME,
        //         input: 'Hello'
        //     }).then(res => {
        //         assert.hasAllKeys(res, [
        //             'object',
        //             'model',
        //             'usage',
        //             'data'
        //         ]);
        //         done();
        //     }).catch(done);
        // }, 10000);
    });
});