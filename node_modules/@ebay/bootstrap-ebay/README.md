# @ebay/bootstrap-ebay

[![Build Status](https://go/-/nodejsci/job/nodejs/job/bootstrap-ebay/job/master/badge/icon)](https://go/-/nodejsci/job/nodejs/job/bootstrap-ebay/job/master/)
[![Dependency Status](https://appvalidator.vip.qa.ebay.com/nodejs/bootstrap-ebay.svg)](https://appvalidator.vip.qa.ebay.com/nodejs/bootstrap-ebay)
[![Code Coverage](https://badgeme.vip.qa.ebay.com/badge/sonar/v0/coverage/bootstrap-ebay)](http://sonar/dashboard/index?id=bootstrap-ebay)

The module sets platform hooks, limits and programmatically configures (bootstraps) specific list of modules to a single instances.

The single instance of the module is needed in case it has a state. Having more than one instance would create compromise the single source of truth.

The use of single instance requires that other module versions remain compatible in terms of API.

## Usage

```js
// Inits all the hooks and limits
require('@ebay/bootstrap-ebay').init();
```

## Bootstrapping modules

The default module list is configured in this [config](config/bootstrap.json)

The app can add to the list by adding bootstrap.json to app/config folder

bootstrap.json:
```json
{
    "request-local": false,     // disable module as single module (this is rare scenario to use) 
    "body-parser": true,        // mark module to be loaded as a single instance
    "moment": "moment-perf-fix", // map one module to other module
}
```

## Header size limits

The platform limits the size of the header to 16k and would log an error to CAL of exceeded or a warning if the size of the header exceeds 14k
