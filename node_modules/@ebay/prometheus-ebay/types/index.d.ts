import {
    Gauge,
    Counter,
    Summary,
    Histogram,
    Registry
} from 'prom-client';

export {
    Gauge,
    Counter,
    Summary,
    Histogram,
    Registry
} from 'prom-client';

export interface MetricsData {
    contentType: string;
    metrics: string;
}

export class Metrics {
    constructor(namespace: string);
    createGauge(name: string, description: string, labels?: string[], collect?: () => void): Gauge<string>;
    createCounter(name: string, description: string, labels?: string[],
        enableExemplars?: boolean, collect?: () => void): Counter<string>;
    createSummary(name: string, description: string, labels?: string[],
        percentiles?: number[], maxAgeSeconds?: number, ageBuckets?: number): Summary<string>;
    createHistogram(name: string, description?: string, labels?: string[],
        buckets?: number[], enableExemplars?: boolean): Histogram<string>;
    readMetrics(contentType?: string): Promise<MetricsData>;
    readOpenMetrics(): Promise<MetricsData>;
    readPrometheusMetrics(): Promise<MetricsData>;
    resetMetrics(contentType?: string): void;
    clearMetrics(contentType?: string): void;
}

export const platformMetrics: Metrics;
export const applicationMetrics: Metrics;
export const namespaces: {[key: string]: Metrics};
