import Esams from ".";
import { expectType } from "tsd";

const nameService = Esams.getNameService();

expectType<Esams.SecretKeyHolder>(
  await nameService.getSecretKey("channelName")
);

const sealSecretKey = await nameService.getSealSecretKey("channelName");
expectType<Esams.SecretKeyHolder>(sealSecretKey);

const keyPair = await nameService.getKeyPair("channelName", 3);
expectType<Esams.KeyPairHolder | Esams.PatronusKeyPairHolder>(keyPair);

const cert = await nameService.getCertificate("channelName");
expectType<Esams.CertificateHolder>(cert);

const nonKey = await nameService.getNonKey("channelName", 1);
expectType<Esams.NonKeyHolder>(nonKey);

const esams = Esams.getEsamsConsumer();

expectType<Promise<Esams.EsamsCertificate>>(
  esams.getCertificate("channelName")
);

const key = await esams.getKeyPair("channelName");
