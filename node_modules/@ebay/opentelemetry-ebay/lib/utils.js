const url = require('url');

function formatRequestUrl(req) {
    const parsed = url.parse(req.originalUrl);
    return url.format({
        protocol: req.protocol,
        host: req.get('host'),
        pathname: parsed.pathname,
        search: parsed.search
    });
}

function getPageName(req) {
    const route = req.route;
    return route && route.config && (route.config.pageName || route.config.pagename);
}

module.exports = {
    formatRequestUrl: formatRequestUrl,
    getPageName: getPageName
};
