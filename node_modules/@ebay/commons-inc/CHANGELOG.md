# ChangeLog
## 4.4.2
* Add a forceEnable logic to enable enduserctx in case of failure, https://jirap.corp.ebay.com/browse/NODE-5648

## 4.4.1
* If cache control directive is ttl and max-age log warning, https://jirap.corp.ebay.com/browse/NODE-5551

## 4.3.4
* Remove ENDUSERCTX header from JS API, https://jirap.corp.ebay.com/browse/NODE-4078

## 4.3.3
* IP exposure in page source code, https://jirap.corp.ebay.com/browse/NODE-4759

## v4.3.1
* Fix: Node App Pages - View source shows internal data like user id and device id, https://jirap.corp.ebay.com/browse/NODE-4436

## v4.3.0
* Allow to disable X-EBAY-PAGE-INFO and similar info at the end of the page. This is required for react based app where we cannot dynamically change content-length and should I avoid adding more content at the end, [VELOCITY-432](https://jirap.corp.ebay.com/browse/VELOCITY-432)

## v4.2.0
* Added: option to suppress cos header on client side, https://jirap.corp.ebay.com/browse/NODE-3952

## v4.1.9
* Fix: NPE in commons-inc when cookies are not available, https://jirap.corp.ebay.com/browse/NODE-3336

## v4.1.8
* Fix: incorrect stringification of tracking context in commons-inc middleware, https://jirap.corp.ebay.com/browse/NODE-3329

## v4.1.5
* Added AZ & cluster info in CAL
https://jirap.corp.ebay.com/browse/NODE-2879

## v4.1.4
* Changed ConnectReset Status Code from 500 to 499 https://jirap.corp.ebay.com/browse/NODE-2288

## v4.1.3
* Fixed: Removed local scm per performance improvements on server startup

## v4.1.2
* Fixed: commons-inc needs to log error on res.on('error', ()=>{}) at least in dev mode, https://jirap.corp.ebay.com/browse/NODE-1740

## v4.1.1
* Added `node_id` & `ri` to CAL end transaction for open tracing

## v4.1.0
* Changed page_not_found to page_not_responding per error page project requirements to distinguish between app and system failures

## v4.0.7
* Fixed: validate route does not reject qualyscan urls, https://jirap.corp.ebay.com/browse/NODE-1564

## v4.0.6
* Fixed: Should now log HTTP status code 4xx & 5xx as Main TX status code
* Logs redirect URL for 3xx status code https://jirap.corp.ebay.com/browse/NODE-1505

## v4.0.5
* Added correlationId to CAL log

## v4.0.4
* Move CAL initialization to CAL middleware

## v4.0.3
* Fixed: should not instrument html output when send method is used as it set content length and causes issue to the client that reads it.

## v4.0.2
* Fixed: should suppress qualiscan errors including connection resets by the client

## v4.0.1
* Added Environment, SiteID, PageName and AppName to Node Metadata in pages.

## v4.0.0
* Remove peer and unwanted dependencies and upgrade dependencies

## v0.1.33
* Fixed: should log connection reset error under main transaction - https://jirap.corp.ebay.com/browse/NODE-945 and https://github.corp.ebay.com/nodejs/commons-inc/issues/23

## v0.1.32
* Changed the API to `isValidRedirect`

## v0.1.31
* Integrated `redirection` violation to sherlock metrics

## v0.1.30
* Switched to number version for hostip-checker-ebay@0.1

## v0.1.29
* Added qualyscan identification to transaction metadata and suppressed errors in such cases. The identification is based on hostip-checker-ebay API that allows to check if any given request is from qualyscan tools based on its IP address.

## v0.1.28
* Fixed: should correctly handle connection close event. Description: xonyx reported loss of tracking information due to incorrect nesting level of CAL transactions, https://jirap.corp.ebay.com/browse/NODE-432

## v0.1.27
* Removed unused dependencies

## v0.1.26
* URL redirection validation.

## v0.1.25
* Performance optimizations.

## v0.1.23
* Switched environment-inc to environment-ebay

## v0.1.22
* Fixed: should use cal target by default.

## v0.1.21
* Fixed: should not fail in case cookies middleware is not injected due to error or some other reason.

## v0.1.20
* Added GUID and rlogid to URL transaction.

## v0.1.19
* Fixed: should not redirect for non-html response in case of error.
