// Internal type definitions for @ebay/locale-ebay 4.0
// Project: https://github.corp.ebay.com/nodejs/locale-ebay
// Definitions by: Timur Manyanov <https://github.corp.ebay.com/tmanyanov>
// Definitions: https://github.corp.ebay.com/TypeScript/types-ebay
// TypeScript Version: 3.0

import { RequestHandler } from 'express';

declare function nodeLocale(options?: any): RequestHandler;

declare namespace nodeLocale {
    type Language = string;

    interface Locality {
        country: string;
        countryId: number;
        isGeoCountry: boolean;
        language: Language;
        locale: string;
        defaultLanguage: Language;
        supportedLanguages: Language[];
        timezone: string;
        directionality: string;
        siteId: number;
        isoCurrencyCode: string;
        siteDefaultIsoCurrencyCode: string;
        timeZoneStd: string;
        timeZoneSummer: string;
    }

    interface Determiner {
        name: determinerName;
        desc: string;
        predicate(context: any): any;
        run(context: any, cb: (err: Error | null, context?: any) => void): any;
    }

    type determinerName = string;

    function registerDeterminer(determiner: Determiner, override: boolean): void;

    function removeDeterminer(name: determinerName): Determiner;
}

declare module 'express-serve-static-core' {
  interface Request {
    locality: nodeLocale.Locality;
  }
}

export = nodeLocale;
