'use strict';
const modConfig = require('@ebay/module-config-inc');
const utils = require('util');
const mdConfig = utils.promisify(modConfig);

// Start timer
require('./timer');

async function getClientHintConfig() {
    try {
        const cfg = await mdConfig(module);        

        return {
            isEnabled: function() {
                return cfg.get('client-hints-ebay:clientHint:enable');
            },
            getCHRequestHeaders: function() {
                return cfg.get('client-hints-ebay:clientHint:requestHeaders');
            },
            getCHChainHeaders: function() {
                return cfg.get('client-hints-ebay:clientHint:chainHeaders');
            },
            getCHAcceptHeaders: function() {
                return cfg.get('client-hints-ebay:clientHint:acceptCHs');
            }
        };
    } catch(err) {
        return;
    }    
}

module.exports = {
    getClientHintConfig: getClientHintConfig
};