# site-meta-ebay

[![Build Status](https://ebayci.qa.ebay.com/CI-Instance/buildStatus/icon?job=site-meta-ebay)](https://ebayci.qa.ebay.com/CI-Instance/job/site-meta-ebay)  [![Dependency Status](https://nodevalid-i3ey5.vip.lvs01.dev.ebayc3.com/nodejs/site-meta-ebay.svg)](https://nodevalid-i3ey5.vip.lvs01.dev.ebayc3.com/nodejs/site-meta-ebay)  [![Code Coverage](https://nodevalid-i3ey5.vip.lvs01.dev.ebayc3.com/coverage/nodejs/site-meta-ebay)](http://sonar/dashboard/index?id=site-meta-ebay)


The `@ebay/site-meta-ebay` modules provides an API for reading :
- Reading Individual Site details
- Reading Individual Site details with default return value
- Retrieving all countries
- Retreiving all currencies

## Changelog

See [CHANGELOG.MD](https://github.corp.ebay.com/nodejs/site-meta-ebay/blob/master/CHANGELOG.md#changelog)

## Installation
```
npm install site-meta-ebay --save
```

## Contribution
In order to run the tests locally, you have to provide a [Personal access tokens](https://githubv3.es.ebay.com/settings/tokens) from the Github V3 server.
Afterwards, run the following command:

```
V3_BUILD_AUTH_TOKEN="<personal access token>" yarn|npm test
```

# API Usage

## Reading a eBay Site Meta by Name

eBay site information can be retrived using

- getSiteByName(siteName)
```javascript
ebaySiteMeta.getSiteByName('EBAY_US')
```
## Reading a eBay Site Meta by Id

- getSiteById(siteId)
```javascript
ebaySiteMeta.getSiteById(0) //0 is the SiteId for EBAY_MAIN
```

## Reading a eBay Site Meta by Name with Default Return Value

- getSiteByNameOrElse()
```javascript
ebaySiteMeta.getSiteByNameOrElse('EBAY_ABC',{id:'US'})
```

## Retrieving All Countries

- getCountries()

```javascript
ebaySiteMeta.getCountries()
```

## Retrieving All Currencies

- getCurrencies()

```javascript
ebaySiteMeta.getCurrencies()
```
===

## Read Localized Lists for a Site

### Localized Lists Of States

 State List by the Country / Site, You can query the list of States for the site in two ways

Option 1 : You are querying with the Site Name

```javascript
var siteMeta = require('@ebay/site-meta-ebay');
var states = siteMeta.getStatesListByName('EBAY_MAIN');/** Returns the List of States Localized and the Sort Order is Maintained ***/
```
Option 2 : You are querying with the Site Id

```javascript
var siteMeta = require('@ebay/site-meta-ebay');
var states = siteMeta.getStatesBySiteId(0);/** Returns the List of States Localized and the Sort Order is Maintained ***/
```

### Localized Lists Of Countries

Country List by the Country / Site, You can query the list of States for the site in two ways

Option 1 : You are querying with the Site Name

```javascript
var siteMeta = require('@ebay/site-meta-ebay');
var states = siteMeta.getCountriesBySite('EBAY_MAIN');/** Returns the List of States Localized and the Sort Order is Maintained ***/
```

Option 1 : You are querying with the Site Id

```
var ebaySiteMeta = require('@ebay/site-meta-ebay');
var site = ebaySiteMeta.getSiteById(0);
var countries = ebaySiteMeta.getCountriesBySite(site);
```
