'use strict';

var provider = require('@ebay/service-client-ebay');

module.exports = {
    /**
     * findById in sessionkeysvc
     * @param sctiveSecretId
     * @param callback
     */
    findById: function findById(activeSecretId, callback) {
        provider.context({}).getClient('sessionkeysvc')
        .get()
        .path('/findById/' + activeSecretId)
        .end(function (err, response) {
            callback(err, err ? undefined : response && {
                statusCode: response && response.statusCode,
                headers: response && response.headers,
                body: response && response.body
            });
        });
    },

    tryInsert: function tryInsert(sessionKey, callback) {
        provider.context({}).getClient('sessionkeysvc')
        .post({
            body: JSON.stringify(sessionKey)
        })
        .path('/tryInsert')
        .end(function (err, response) {
            callback(err, {
                statusCode: response && response.statusCode,
                headers: response && response.headers,
                body: response && response.body
            });
        });
    }
};
