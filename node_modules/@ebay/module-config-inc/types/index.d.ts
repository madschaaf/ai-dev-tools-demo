// Internal type definitions for @ebay/module-config-inc 4.0
// Project: https://github.corp.ebay.com/nodejs/module-config-inc
// Definitions by: Timur Manyanov <https://github.corp.ebay.com/tmanyanov>
// Definitions: https://github.corp.ebay.com/TypeScript/types-ebay
// TypeScript Version: 3.0

/// <reference types="node" />

import { EventEmitter } from 'events';

declare function m(moduleRef: NodeModule | string, callback?: m.Callback | m.ErrorCallback): m.ConfigObject | void;

declare namespace m {
    interface ConfigObject extends EventEmitter {
        get(configBean: string): any;
    }

    type ErrorCallback = (err: Error) => any;
    type Callback = (err: null, configObject: ConfigObject) => any;

    function registerConfig(cacheKey: string, configObject: ConfigObject): any;

    namespace cache {
        function Cache(): any;
        function clear(): void;
        function debug(bool: boolean): void;
        function del(key: string): any;
        function exportJson(): string;
        function get(key: string): any;
        function hits(): number;
        function importJson(jsonToImport: string, options?: any): number;
        function keys(): string[];
        function memsize(): number;
        function misses(): number;
        function put(key: string, value: any, time: any, timeoutCallback: any): any;
        function size(): number;
    }
}

export default m;
