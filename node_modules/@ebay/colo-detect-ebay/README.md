#colo-detect-ebay 
[![Build Status](https://ebayci.qa.ebay.com/CI-Instance/buildStatus/icon?job=colo-detect-ebay)](https://ebayci.qa.ebay.com/CI-Instance/job/colo-detect-ebay) [![Dependency Status](https://nodevalid-i3ey5.vip.lvs01.dev.ebayc3.com/nodejs/colo-detect-ebay.svg)](https://nodevalid-i3ey5.vip.lvs01.dev.ebayc3.com/nodejs/colo-detect-ebay)  [![Code Coverage](https://nodevalid-i3ey5.vip.lvs01.dev.ebayc3.com/coverage/nodejs/colo-detect-ebay)](http://sonar/dashboard/index?id=colo-detect-ebay)


Module that determines the datacenter where the code is running. Should never be used by an
application to determine behavior as apps must remain datacenter independent. A valid use
is for reporting metrics data in the infrastructure to all drilling down by datacenter to
isolate problems. It can also determine the MX (Mail Exchanger) SMTP gateway.

Retrive full host name via `getHostName()` which return `hostname.slc.ebay.com`

## Changelog

See   [CHANGELOG.MD](https://github.corp.ebay.com/nodejs/colo-detect-ebay/blob/master/CHANGELOG.md#changelog)

# Installation

```
npm install colo-detect-ebay --save
```

# Usage

```
var detector = require('colo-detect-ebay');
var colo = detector.coloDetect();
var coloMx = detector.coloMxDetect();

var hostname = detector.getHostName(); //somehost.slc.ebay.com
```

Ideally, you should call this once and keep the result as
calling a shell operation is not the most efficient thing.
Note that there are heuristics in use here. For ebay, the general
hostname -f form is host.xxx.ebay.com where the result
will be the xxx part.

Mail gateway values are as follows:
```
eBay Production:   mx.vip.ebay.com
eBay Staging:   mx.vip.qa.ebay.com
```
