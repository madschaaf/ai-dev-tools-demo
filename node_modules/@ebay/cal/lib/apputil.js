'use strict';

var path = require('path'),
    tryRequire = require('try-require');

exports = module.exports = {

    getAppName: function () {
        var pkg, result, pkgFile;

        pkgFile = path.join(process.cwd(), 'package.json');
        pkg = tryRequire(pkgFile);
        result = pkg && pkg.name;

        return result;
    },

    getBuildVersion: function () {
        var pkg, result, manifestFile;

        manifestFile = path.join(process.cwd(), 'manifest.json');
        pkg = tryRequire(manifestFile);
        result = pkg && pkg.version && pkg.version.rpmName;

        return result;
    },

    getConfigVersion: function () {
        const RaptorConfig = require('@ebay/raptor-config-ebay');
        const manifestStatus = RaptorConfig.globalConfig;
        if (manifestStatus && manifestStatus.status === 'OK') {
            return manifestStatus.value;
        }
        return null;
    }

};
