# ChangeLog

## v4.3.0
* Replaced bluebird promise with native one, https://jirap.corp.ebay.com/browse/NODE-3852
* Removed dead failing code, service details

## v4.2.0
* Upgraded dependencies to the latest version
* Fixed: empty metadata should be treated as an error, https://jirap.corp.ebay.com/browse/NODE-2817

## v4.1.0
* Moved service call from resrepo(soa) to appmetasvc(rest)

## v4.0.9
* Fix: Switched from `instrument-inc` to `@ebay/service-instruments-ebay` for RuntimeError

## v4.0.8
* Removed explicitly defined discovery instrument

## v4.0.7
* Added urn for service-discovery

## v4.0.6
* Fixed: Appmeta fetch failing when xml tag header is missing even with valid Appmeta data exists.
https://jirap.corp.ebay.com/browse/NODE-1664

## v4.0.4
* Enable fetching App metadata without secret

## v4.0.3
* Fix: Null pointer exception on getPageMeta when page doesn't exist.

## v4.0.2
* Changed treatment of deprecated pages during the metadata load. Now it will keep using it with warning that the page is deprecated and needs to be fixed.

## v4.0.1
* Retry ESAMS to fetch application secret if previous attempts have failed on AppMeta.getAppMeta() invocation.

## v4.0.0
* Remove peer and unwanted dependencies and upgrade dependencies
* Should not re-use the same requestBody for other requests when getting appmeta
   * plus due to re-use it cached request context and other data injected by the handlers which should not happen and be GC-ed.

## v0.1.35
* Changed short VIP to FQDN
* NODE-642 Associate metadata with build id

## v0.1.34
* Fix: Double BASE-64 encoding. ESAMS already stores app secret encoded in BASE-64 so removed additional encoding.

## v0.1.33
* Lookup App Secret from ESAMS and fallback to App-Meta and then to Client Detail Service.
* NPM version and CHANGELOG version are not in sync so decrementing version in CHANGELOG to 0.1.33

## v0.1.33
* Added `force-retry` to `true`
* Decreased `socketTimeout` to `1000ms` as per production 95 %ile

## v0.1.32
* Added missing instrument-ebay

## v0.1.31
* Upgraded service-client-ebay version

## v0.1.30
* removed unused dependencies

## v0.1.29
* added commons-ebay to dev dependencies to fix cycle dependency error

## v0.1.28
* Upgraded dependencies

## v0.1.27
* Enhancement: Added new `load` method to `load app metadata`
* Switched environment-inc to environment-ebay.
* Removed production tests as CORP to PROD access is removed.

## v0.1.26
* Enhanced: Added to register `app-meta` from init.

## v0.1.25
* Fixed test environment to fix module CI builds that run in test mode

## v0.1.24
* Converted to service-client-ebay/soap.
* Added service meta and fallback for app secret to service meta clientSecret.

## v0.1.19 - v0.1.23
* deprecated

## v0.1.18
* Added LNP env configuration

## v0.1.17
* Changed service call from REST appreg to SOA service for better reliability & performance

## v0.1.16
* Increased timeout to 5sec to allow for slow app registration service to complete successfully.

## v0.1.15
* Removed unnecessary instruments to avoid warnings as this module used as bootstrap module for the others

## v0.1.14
* Fixed: timeout was 2 minutes by default due to wrong name
* Reduced timeout to 1 second and retry to 1.
* Switch to service-client-ebay for service calls
* Code cleanup
