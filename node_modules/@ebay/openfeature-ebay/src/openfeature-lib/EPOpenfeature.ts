import { Client } from '@openfeature/js-sdk';
import { Context } from './openfeature-context/Context';

/**
 * Request based client wrapper for openfeature client
 * {@param} client is exposed as req.ebay.openfeature.client
 */
export class EPOpenfeatureAPI {
    context: Context;
    client: Client;
    constructor(context, client) {
        this.context = context;
        this.client = client;
    }

    async getClientSideEPs(filterLabels: string[]) {
        return await this.context.getClientSideEPs(filterLabels);
    }

    getEpTagsEventMap() {
        return this.context.getEpTagsEventMap();
    }

    preflightRequestHeaders(options, callback) {
        return this.context.preflightRequestHeaders(options, callback);
    }

    handleResponseHeaders(headers) {
        return this.context.handleResponseHeaders(headers);
    }
}
