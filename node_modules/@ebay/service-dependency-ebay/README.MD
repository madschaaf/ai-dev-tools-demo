# Discover Service Dependencies

This utility module helps to find all the service dependencies in the given app for a given environment

## How to install
```shell
npm install service-dependency-ebay
```

## How to run

### Options
  * `--env` : Environment e.g `staging` or `production`. Default `production`
  * `--format`: Output file format e.g `json` or `yaml`. Default create both `json` and `yaml`
  * `--path`: Path for the target application for which dependencies to be discovered e.g `/home/colweb`
  * `--filename`: Output file name. default: `consumer-all.yaml` or `consumer-all.json`
```shell
node node_modules/service-dependency-ebay --env=staging --format=json --path=. --filename=MyDependencies
```

Above command generates `.json` or `.yaml` file at the `path` specified.

Sample `json` Output
```json
{
	"dependencies": [
		{
			"serviceId": "urn:servicegen:esamsConsumerSvc"
		},
		{
			"serviceId": "urn:servicegen:oauth-detail-service"
		},
		{
			"serviceId": "urn:servicegen:AppMetService"
		},
		{
			"serviceId": "urn:servicegen:sessionkeysvc"
		}
	]
}
```

Sample `yaml` Output
```yaml
dependencies:
  - serviceId: 'urn:servicegen:esamsConsumerSvc'
  - serviceId: 'urn:servicegen:oauth-detail-service'
  - serviceId: 'urn:servicegen:AppMetService'
  - serviceId: 'urn:servicegen:sessionkeysvc'

```
