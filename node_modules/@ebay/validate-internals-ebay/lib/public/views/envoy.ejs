<% if(!forceXml){ %> <?xml-stylesheet type="text/xsl" href="resources/xsl/ValidateInternals.xsl"?><% } else { %><?xml version="1.0" encoding="UTF-8"?><% } %>
<ValidateInternals xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" envoyEnabled="<%=envoyEnabled%>" containerPdlcEnabled="<%=containerPdlcEnabled%>" host="<%=host%>/<%=ipAddress%>" client-ip="<%=clientIpAddress%>" uiTheme="../css/raptor_page.css"  xsi:noNamespaceSchemaLocation="resources/xsd/ValidateInternals.xsd" more-info="HeaderPH">

<%- include('header'); %>

<Component name="Quick Links" alias="quicklinks" status="Created">
    <Properties>
        <Property name="Envoy Dashboard" escape="no">
            <![CDATA[ <a href="<%=quickLinks.envoyDashboard%>"><%=quickLinks.envoyDashboard%></a> ]]>
        </Property>
        <% if(quickLinks.isMeshEnabled) { %>
        <Property name="Envoy admin access logs" escape="no">
            <![CDATA[ <a href="<%=quickLinks.envoyAdminAccessLogs%>"><%=quickLinks.envoyAdminAccessLogs%></a> ]]>
        </Property>
        <Property name="Envoy stdout & stderr logs" escape="no">
            <![CDATA[ <a href="<%=quickLinks.envoyStdOutErrLogs%>"><%=quickLinks.envoyStdOutErrLogs%></a> ]]>
        </Property>
        <% } else { %>
        <Property name="Envoy Log Browser" escape="no">
            <![CDATA[ See all of the Envoy log files (<a href="<%=quickLinks.envoyLogs%>">Browse</a>) ]]>
        </Property>
        <% } %>
        <Property name="Envoy Logging ConfigBean" escape="no">
            <![CDATA[ View Envoy logging ConfigBean (<a href="<%=quickLinks.envoyLoggingConfigBean%>">View</a>) ]]>
        </Property>        
    </Properties>
</Component>

<Component name="Envoy Info" alias="envoyinfo" status="created">
    <Properties>
       <% var props = envoyServerInfo;
          var keys = Object.keys(props);
         for(var i=0; i<keys.length; i++){
            var key = keys[i]
        %>
            <Property name="<%=key%>"><![CDATA[<%-props[key]%>]]></Property>
    
        <% } %>
    </Properties>    
    %>    
</Component>

<Component name="BeatsPackageComponentStatus" alias="BeatsPackageComponentStatus" status="created">
    <Properties>
       <% var props = beatsInfo;
          var keys = Object.keys(props);
         for(var i=0; i<keys.length; i++){
            var key = keys[i]
        %>
            <Property name="<%=key%>"><![CDATA[<%-props[key]%>]]></Property>
    
        <% } %>
    </Properties>    
    %>    
</Component>

<Component name="EnvoyHealthComponentStatus" alias="envoyhealthcomponentstatus" status="created">
        <Properties>
            <% var props = envoyHealthStatus;
            var keys = Object.keys(props);
            for(var i=0; i<keys.length; i++){
                var key = keys[i]
            %>
                <Property name="<%=key%>"><![CDATA[<%-props[key]%>]]></Property>
        
            <% } %>
        </Properties>    
        %>    
    </Component>
</ValidateInternals>
