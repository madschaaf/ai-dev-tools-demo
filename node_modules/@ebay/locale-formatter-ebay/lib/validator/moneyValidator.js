"use strict";

var currencyConf = require('../../config/currency/currency.json'),
	fmUtil = require('../formatUtil');

function validate(amount, currencyCode) {
	var error;
    if ((typeof amount !== 'number') && !amount) {
		error = "Undefined amount";
    } else if(!fmUtil.isNumeric(amount)){
		error = "Non numeric amount value";
    } else if ((Math.abs(amount).toFixed(6)) >= (Math.pow(2, 53))) {
		error = "Amount is greater than the Safe Integer Limit for Money related Operations";
    } else if (!currencyCode) {
		error = "Undefined currency";
    } else if (!currencyConf[currencyCode]) {
		error = "Invalid Currency";
    }
    return error;

}

exports = module.exports = validate;
